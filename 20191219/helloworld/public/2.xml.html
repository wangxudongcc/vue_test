<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <!--
    到底是get还是post,有两种方式可以得到;
        第一种:接口文档(有别人的代码)
        第二种:自己测试;
    localhost/get
        xhr.send('user=yb')

    fetch和ajax有什么问题?
        fetch=>ES6新的api,基于promise
            get
            post
        axios =>基于promise封装的XMLHttpRequest;
        
        axios会有一些拦截器,方便做些钩子处理(axios基于promise封装的库)
        
        XHR(浏览器自带的API)和axios(基于XHR来封装的一个js库)区别;

        XMLHttpRequest可以监听细节,监听请求过程1-4,超时处理,abort强制中断,onabort中断监听;
    请求头和响应头的区别是什么?-->
    
    <button id="send">发送</button>
    <button id="abort">中断</button>
    <script>
        // fetch('http://www.flash.weather.com.cn').then(d=>d.text())
        // .then(d=>{console.log(d);})
        let xhr = null;
        send.onclick = function () {
            xhr = new XMLHttpRequest;
            console.log(xhr);
            xhr.open('get', '/sleep?name=txt');
            xhr.send();
            xhr.onload = function () {
                console.log(xhr.reponseText);
            }
            xhr.abort = function () {
                console.log('触发');
            }
        }
        abort.onclick = function(){
            xhr.abort();
        }

    </script>
</body>

</html>