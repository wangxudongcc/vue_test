<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <!-- <script>
            document.onclick=function(){
            
            }
            function* fn(){
                console.log('请求之前');
                let res = yield request('/sleep?user=123');
                console.log('拿到数据'+res);
                console.log('请求之后');
            }

            function request(url){
            let xhr = new XMLHttpRequest;
                xhr.open('get','');
                xhr.send();
                xhr.onload = function(){
                    f.next(xhr.responseText);
        }
            }
        </script> -->

<script>
            document.onclick = async function fn(){
                console.log('请求之前');
                let res = await request('/sleep?user=123').then(e=>e.text());
                //await 后面是个promise对象;
                console.log('拿到数据'+res);
                console.log('请求之后');
            }

        //     function request(url){
        //     let xhr = new XMLHttpRequest;
        //         xhr.open('get',url);
        //         xhr.send();
        //         xhr.onload = function(){
        //             f.next(xhr.responseText);
        // }
</script> 

</body>
</html>