<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <form action="/upload" method="POST" enctype="multipart/form-data">

        <input type="file" name="filename">
        <input type="submit" value="提交">

    </form>
    <script src="./node_modules/axios/dist/axios.js">
    </script>
    <script>
        file.onchange = function (){
            let fr = new FileReader();  //可以把files的第n个数据编成,变成base64码;
            // fr.readAsDataURL(图片数据);
            // 这个事件里面有个ev.target.result 就是base64码

        }
        btn.onclick = function(){
            let fd= new FromData();
            fd.append('filename',file.files[0])
            axios.post('/upload',fd,{
                headers:{
                    "Content-Type":"multipart/form-data"
                }
            }).then(({data})=>{
                let fr = new FileReader();
                fr.readAsDataURL(data);
                fr.onload = function(ev){
                    let Img = new Image;
                    img.src = ev.target.result
                  console.log(ev.target.result)   //=>img的代码;
                }
                console.log(data);
            })
files.forEach(file=>{
    let oldpath = path.resolve(file.path);
    let newpath = path.resolve(file.destination)

})
        }
    
    </script>
</body>
</html>